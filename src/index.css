/* 1. IMPORT MODERN FONT (Inter) */
@import url("https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap");

/* 2. COLOR PALETTE & VARIABLES */
:root {
  /* Light Mode */
  --bg-app: #f3f4f6;
  --bg-card: #ffffff;
  --text-primary: #1f2937;
  --text-secondary: #6b7280;
  --border-color: #e5e7eb;

  /* Brand Colors */
  --primary: #4f46e5; /* Indigo */
  --primary-hover: #4338ca;
  --success: #10b981; /* Emerald Green */
  --danger: #ef4444; /* Red */

  /* Accents */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.1);
  --shadow-md:
    0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg:
    0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);

  --radius-md: 12px;
  --radius-lg: 16px;

  --transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

[data-theme="dark"] {
  /* Dark Mode - Deep Blue/Grey Tone */
  --bg-app: #0f172a;
  --bg-card: #1e293b;
  --text-primary: #f8fafc;
  --text-secondary: #94a3b8;
  --border-color: #334155;

  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.5);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.4);
}

/* 3. GLOBAL RESET */
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

body {
  font-family: "Inter", sans-serif; /* The "Pro" Font */
  background-color: var(--bg-app);
  color: var(--text-primary);
  transition:
    background-color 0.3s ease,
    color 0.3s ease;
  -webkit-font-smoothing: antialiased;
  padding-bottom: 50px;
}

/* 4. LAYOUT & CONTAINER */
.container {
  max-width: 1400px;
  margin: 0 auto;
  padding: 20px;
}

/* 5. HEADER STYLING */
.header-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 25px;
  padding-bottom: 20px;
  border-bottom: 1px solid var(--border-color);
}

h1 {
  font-size: 28px;
  font-weight: 800;
  background: linear-gradient(135deg, var(--primary) 0%, #8b5cf6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent; /* Gradient Text Effect */
  letter-spacing: -0.5px;
}

.header-controls {
  display: flex;
  gap: 15px;
  align-items: center;
}

/* 6. BUTTONS & TOGGLES */
button {
  font-family: "Inter", sans-serif;
}

.theme-toggle,
.view-toggle-btn {
  background: var(--bg-card);
  border: 1px solid var(--border-color);
  color: var(--text-secondary);
  padding: 8px 16px;
  border-radius: 8px;
  cursor: pointer;
  font-weight: 500;
  transition: var(--transition);
}

.theme-toggle:hover,
.view-toggle-btn:hover {
  background: var(--bg-app);
  color: var(--text-primary);
  transform: translateY(-1px);
}

.view-toggle-btn.active {
  background: var(--primary);
  color: white;
  border-color: var(--primary);
  box-shadow: 0 4px 12px rgba(79, 70, 229, 0.3);
}

/* 7. DASHBOARD CARDS (The "Box" Look) */
/* We target the inline styles you added in Dashboard.jsx by using !important 
   OR better, we target the divs directly if you give them class names later. 
   For now, we style general divs inside main-layout to look good. */

.main-layout {
  display: grid;
  grid-template-columns: 3fr 1fr; /* Main Content vs Sidebar */
  gap: 24px;
}

@media (max-width: 1024px) {
  .main-layout {
    grid-template-columns: 1fr; /* Stack on smaller screens */
  }
}

/* 8. CALENDAR & GRID */
.calendar-section {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  padding: 24px;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border-color);
  margin-bottom: 20px;
}

.month-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 20px;
}

.month-title {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-primary);
}

.calendar-table th {
  padding: 12px 5px;
  font-size: 12px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  border-bottom: 1px solid var(--border-color);
}

.calendar-table td {
  padding: 8px 2px;
  border-bottom: 1px solid var(--border-color);
}

.habit-name {
  font-weight: 500;
  color: var(--text-primary);
  font-size: 14px;
}

/* 9. CHECKBOX ANIMATION (The "Pop") */
.checkbox {
  width: 24px;
  height: 24px;
  border-radius: 6px; /* Squaricle */
  border: 2px solid var(--border-color);
  background-color: var(--bg-app);
  cursor: pointer;
  transition: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Bouncy */
  position: relative;
}

.checkbox:hover {
  border-color: var(--primary);
  transform: scale(1.1);
}

.checkbox.checked {
  background-color: var(--success);
  border-color: var(--success);
  transform: scale(1);
}

/* Add a checkmark via pseudo-element */
.checkbox.checked::after {
  content: "âœ”";
  position: absolute;
  color: white;
  font-size: 14px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

/* 10. ANALYSIS SIDEBAR */
.analysis-section {
  background: var(--bg-card);
  border-radius: var(--radius-lg);
  padding: 24px;
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border-color);
  height: fit-content;
}

.analysis-item {
  display: grid;
  grid-template-columns: auto 1fr auto;
  gap: 10px;
  align-items: center;
  margin-bottom: 12px;
  font-size: 13px;
  padding: 8px;
  border-radius: 8px;
  background: var(--bg-app); /* Subtle background for items */
}

.analysis-bar {
  height: 6px;
  background: var(--border-color);
  border-radius: 10px;
  overflow: hidden;
  grid-column: 2;
}

.analysis-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--success), #34d399);
  border-radius: 10px;
}

/* 11. ACTION BUTTONS (Clean & Modern) */
.action-buttons {
  display: flex;
  gap: 12px;
  margin-top: 24px;
}

.add-habit-btn,
.remove-habit-btn {
  flex: 1;
  padding: 14px;
  border: none;
  border-radius: 10px;
  font-weight: 600;
  cursor: pointer;
  transition: var(--transition);
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 8px;
  font-size: 14px;
  letter-spacing: 0.3px;
}

.add-habit-btn {
  background: var(--primary);
  color: white;
  box-shadow: 0 4px 14px rgba(79, 70, 229, 0.4);
}
.add-habit-btn:hover {
  background: var(--primary-hover);
  transform: translateY(-2px);
}

.remove-habit-btn {
  background: var(--bg-app);
  color: var(--danger);
  border: 1px solid rgba(239, 68, 68, 0.2);
}
.remove-habit-btn:hover {
  background: #fee2e2;
}

/* 12. MODALS (Glassy Overlay) */
.modal {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6); /* Darker overlay */
  backdrop-filter: blur(4px); /* Blur effect */
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000;
  animation: fadeIn 0.2s ease-out;
}

.modal-content {
  background: var(--bg-card);
  padding: 30px;
  border-radius: 16px;
  width: 400px;
  box-shadow: var(--shadow-lg);
  border: 1px solid var(--border-color);
  animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Keyframes */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@keyframes slideUp {
  from {
    transform: translateY(20px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
/* Card Container Styling */
.card-container {
  background: var(--bg-card);
  padding: 24px;
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-md);
  border: 1px solid var(--border-color);
  margin-bottom: 20px; /* Space between cards */
  transition: transform 0.2s ease;
}

.card-container:hover {
  transform: translateY(-2px); /* Slight lift on hover */
  box-shadow: var(--shadow-lg);
}

.section-title {
  margin-top: 0;
  margin-bottom: 15px;
  font-size: 16px;
  font-weight: 600;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.8px;
}
/* --- STREAKS & BADGES OVERHAUL --- */

/* 1. Container for both */
.streaks-badges-section {
  display: grid;
  grid-template-columns: 1fr 1fr; /* Side by side */
  gap: 20px;
  margin-bottom: 24px;
}

@media (max-width: 768px) {
  .streaks-badges-section {
    grid-template-columns: 1fr; /* Stack on mobile */
  }
}

/* 2. Shared Card Style */
.streaks-container,
.badges-container {
  background: var(--bg-app); /* Slightly darker than the card to stand out */
  padding: 16px;
  border-radius: 12px;
  border: 1px solid var(--border-color);
}

.streaks-container h3,
.badges-container h3 {
  font-size: 14px;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  color: var(--text-secondary);
  margin-bottom: 12px;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 8px;
}

/* 3. Streaks Styling (The Fire Pills) */
.streak-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  background: white;
  padding: 8px 12px;
  border-radius: 8px;
  margin-bottom: 8px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
  border: 1px solid var(--border-color);
  transition: transform 0.2s;
}

[data-theme="dark"] .streak-item {
  background: var(--bg-card); /* Dark mode fix */
}

.streak-item:hover {
  transform: translateX(4px);
  border-color: #f59e0b; /* Orange border on hover */
}

.streak-emoji {
  font-size: 18px;
  margin-right: 8px;
}
.streak-name {
  font-weight: 600;
  font-size: 13px;
  color: var(--text-primary);
  flex: 1;
}
.streak-count {
  font-weight: 800;
  color: #f59e0b; /* Orange text */
  background: #fffbeb;
  padding: 4px 8px;
  border-radius: 6px;
  font-size: 12px;
}
[data-theme="dark"] .streak-count {
  background: #451a03;
}

/* 4. Badges Styling (The Medals) */
.badges-grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 8px;
}

.badge {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  text-align: center;
  padding: 10px;
  border-radius: 8px;
  background: var(--bg-app);
  border: 1px dashed var(--border-color);
  opacity: 0.5; /* Dimmed by default */
  font-size: 11px;
  font-weight: 600;
  transition: all 0.3s;
}

/* THE GOLDEN STATE (Unlocked) */
.badge.earned {
  opacity: 1;
  background: linear-gradient(135deg, #fffbeb 0%, #fef3c7 100%);
  border: 1px solid #fcd34d;
  color: #92400e;
  box-shadow: 0 2px 4px rgba(245, 158, 11, 0.2);
  transform: scale(1.02);
}
[data-theme="dark"] .badge.earned {
  background: linear-gradient(135deg, #451a03 0%, #78350f 100%);
  color: #fcd34d;
  border-color: #f59e0b;
}

.badge-icon {
  font-size: 20px;
  margin-bottom: 4px;
}
/* --- STATS BAR STYLING --- */
.stats-container {
  display: grid;
  grid-template-columns: repeat(4, 1fr); /* 4 Equal Columns */
  gap: 20px;
  margin-top: 20px;
}

@media (max-width: 768px) {
  .stats-container {
    grid-template-columns: repeat(2, 1fr); /* 2x2 on Mobile */
  }
}

.stat-card {
  background: var(--bg-app);
  padding: 15px;
  border-radius: 12px;
  border: 1px solid var(--border-color);
  display: flex;
  align-items: center;
  gap: 15px;
  transition: transform 0.2s;
}

.stat-card:hover {
  transform: translateY(-2px);
  border-color: var(--primary);
}

.stat-icon {
  width: 40px;
  height: 40px;
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 20px;
}

.stat-info {
  display: flex;
  flex-direction: column;
}

.stat-value {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  line-height: 1.2;
}

.stat-label {
  font-size: 12px;
  color: var(--text-secondary);
  font-weight: 500;
}

/* --- FIX PREV/NEXT BUTTONS --- */
.month-nav button {
  background: white;
  border: 1px solid var(--border-color);
  padding: 6px 12px;
  border-radius: 6px;
  cursor: pointer;
  font-size: 13px;
  color: var(--text-primary);
  margin-left: 5px;
  transition: all 0.2s;
}

.month-nav button:hover {
  background: var(--bg-app);
  border-color: var(--primary);
  color: var(--primary);
}

[data-theme="dark"] .month-nav button {
  background: var(--bg-card);
}
/* --- COMPACT CALENDAR MODE --- */

/* 1. Reduce Row Height */
.calendar-table td {
  padding: 4px 0; /* Reduced from 8px to 4px */
  height: 30px; /* Force shorter rows */
  border-bottom: 1px solid rgba(0, 0, 0, 0.05); /* Lighter borders */
}

/* 2. Smaller Headers */
.calendar-table th {
  padding: 8px 0;
  font-size: 11px; /* Smaller date numbers */
  color: var(--text-secondary);
}

/* 3. Smaller & Cleaner Checkboxes */
.checkbox {
  width: 18px; /* Reduced from 24px */
  height: 18px;
  border-radius: 4px; /* Slightly sharper corners */
  border-width: 1.5px;
  margin: 0 auto; /* Keep them centered */
}

/* 4. Compact Habit Names */
.habit-name {
  font-size: 13px; /* Smaller text */
  font-weight: 500;
  padding-left: 12px;
}

/* 5. Tighter Summary Rows (Bottom) */
.summary-row td {
  font-size: 10px;
  padding: 4px 0;
  color: var(--text-secondary);
}

/* 6. Calendar Container Adjustments */
.calendar-section {
  padding: 16px; /* Less padding around the white box */
  margin-bottom: 15px;
}

.month-header {
  margin-bottom: 10px; /* Tighter header */
}

.month-title {
  font-size: 18px; /* Slightly smaller title */
}
/* --- OLD HEADER RESTORATION --- */

/* 1. Main White Card Wrapper */
.header-card {
  background: var(--bg-card);
  border-radius: 12px;
  padding: 20px 30px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
  margin-bottom: 25px;
  display: flex;
  flex-direction: column;
  gap: 25px; /* Space between Top Row and Stats Row */
}

/* 2. Top Row Layout */
.header-top-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid #eee; /* Light divider line */
  padding-bottom: 15px;
}

.header-brand {
  display: flex;
  align-items: center;
  gap: 15px;
}
.header-brand h1 {
  font-size: 24px;
  margin: 0;
}
.user-badge {
  font-size: 14px;
  color: #10b981; /* Green User Name */
  font-weight: 600;
  text-transform: uppercase;
  background: #ecfdf5;
  padding: 4px 8px;
  border-radius: 4px;
}

/* 3. Controls (Buttons) */
.header-controls {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* Theme Button */
.theme-btn {
  background: white;
  border: 1px solid #ddd;
  border-radius: 6px;
  width: 36px;
  height: 36px;
  cursor: pointer;
}

/* Logout Button (RED) */
.logout-btn {
  background: #ef4444; /* Red */
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
}
.logout-btn:hover {
  background: #dc2626;
}

/* View Toggle (Green/Grey) */
.view-toggle {
  display: flex;
  background: #e5e7eb;
  border-radius: 6px;
  padding: 2px;
}
.toggle-btn {
  background: transparent;
  border: none;
  padding: 6px 12px;
  font-size: 13px;
  cursor: pointer;
  color: #666;
  border-radius: 4px;
}
.toggle-btn.active {
  background: #22c55e; /* Green */
  color: white;
  font-weight: 600;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* 4. Horizontal Stats Layout */
.stats-horizontal {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

.stat-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
  flex: 1; /* Distribute space evenly */
}

.stat-label {
  font-size: 12px;
  color: #6b7280; /* Grey Label */
  text-transform: capitalize;
}

.stat-value {
  font-size: 20px;
  font-weight: 700;
  color: #1f2937;
}

/* 5. The Progress Bar (Specific to old look) */
.progress-item {
  flex: 2; /* Make progress bar wider */
  padding: 0 20px;
}

.progress-bar-bg {
  width: 100%;
  height: 12px;
  background: #e5e7eb; /* Grey background */
  border-radius: 10px;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: #22c55e; /* Green Fill */
  border-radius: 10px;
  transition: width 0.5s ease;
}
/* --- OLD HEADER RESTORATION STYLES --- */

/* 1. Main White Card Wrapper */
.header-card {
  background: var(--bg-card);
  border-radius: 12px;
  padding: 20px 30px;
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
  margin-bottom: 25px;
  display: flex;
  flex-direction: column;
  gap: 25px; /* Space between Top Row and Stats Row */
  border: 1px solid var(--border-color);
}

/* 2. Top Row Layout */
.header-top-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 15px;
}

.header-brand {
  display: flex;
  align-items: center;
  gap: 15px;
}
.header-brand h1 {
  font-size: 24px;
  margin: 0;
}

.user-badge {
  font-size: 14px;
  color: #10b981; /* Green User Name */
  font-weight: 600;
  text-transform: uppercase;
  background: rgba(16, 185, 129, 0.1);
  padding: 6px 10px;
  border-radius: 6px;
}

/* 3. Controls (Buttons) */
.header-controls {
  display: flex;
  align-items: center;
  gap: 12px;
}

/* Theme Button */
.theme-btn {
  background: var(--bg-app);
  border: 1px solid var(--border-color);
  border-radius: 6px;
  width: 36px;
  height: 36px;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Logout Button (RED) */
.logout-btn {
  background: #ef4444; /* Red */
  color: white;
  border: none;
  padding: 8px 16px;
  border-radius: 6px;
  font-weight: 600;
  cursor: pointer;
}
.logout-btn:hover {
  background: #dc2626;
}

/* View Toggle (Green/Grey) */
.view-toggle {
  display: flex;
  background: var(--bg-app);
  border-radius: 6px;
  padding: 2px;
  border: 1px solid var(--border-color);
}
.toggle-btn {
  background: transparent;
  border: none;
  padding: 6px 12px;
  font-size: 13px;
  cursor: pointer;
  color: var(--text-secondary);
  border-radius: 4px;
}
.toggle-btn.active {
  background: #22c55e; /* Green */
  color: white;
  font-weight: 600;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}

/* 4. Horizontal Stats Layout */
.stats-horizontal {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 100%;
}

.stat-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 5px;
  flex: 1; /* Distribute space evenly */
}

.stat-label {
  font-size: 12px;
  color: var(--text-secondary);
  text-transform: capitalize;
}

.stat-value {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-primary);
}

/* 5. The Progress Bar (Specific to old look) */
.progress-item {
  flex: 2; /* Make progress bar wider */
  padding: 0 20px;
}

.progress-bar-bg {
  width: 100%;
  height: 12px;
  background: var(--bg-app);
  border-radius: 10px;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: #22c55e; /* Green Fill */
  border-radius: 10px;
  transition: width 0.5s ease;
}
